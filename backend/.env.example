# üè¢‚ö° Energy Optimizer Pro - Backend Environment Configuration
# =============================================================

# Application Settings
APP_NAME="Energy Optimizer Pro API"
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://energy_user:energy_password_2024@localhost:5432/energy_optimizer
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration (Caching & Sessions)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# Security
SECRET_KEY=your-super-secret-key-change-in-production-please
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Settings
PWD_CONTEXT_SCHEMES=["bcrypt"]
PWD_CONTEXT_DEPRECATED=["auto"]

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "https://energy-optimizer.vercel.app"]
CORS_CREDENTIALS=true
CORS_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_HEADERS=["*"]

# File Upload Settings
MAX_FILE_SIZE=52428800              # 50MB
ALLOWED_FILE_TYPES=["csv", "xlsx", "json"]
UPLOAD_DIR=./uploads
TEMP_DIR=./temp

# ML Model Configuration
MODEL_CACHE_SIZE=100
MODEL_CACHE_TTL=3600               # 1 hour
DEFAULT_ML_ALGORITHM=xgboost
ENABLE_MODEL_CACHING=true
MODEL_STORAGE_PATH=./models
FEATURE_STORE_PATH=./features

# ML Training Settings
AUTO_RETRAIN=false
RETRAIN_THRESHOLD=0.05             # Model performance degradation threshold
MIN_TRAINING_SAMPLES=1000
MAX_TRAINING_TIME=1800             # 30 minutes
CROSS_VALIDATION_FOLDS=5

# Optimization Settings
MAX_OPTIMIZATION_RUNTIME=600       # 10 minutes
OPTIMIZATION_ALGORITHMS=["xgboost", "lightgbm", "random_forest"]
ENABLE_HYPERPARAMETER_TUNING=true
OPTIMIZATION_OBJECTIVES=["energy_savings", "cost_reduction", "carbon_footprint"]

# Data Processing
MAX_CONCURRENT_JOBS=5
CHUNK_SIZE=10000                   # Records per chunk
ENABLE_DATA_VALIDATION=true
DATA_RETENTION_DAYS=365
AUTO_CLEANUP_TEMP_FILES=true

# Real-time Data
ENABLE_WEBSOCKETS=true
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=100
STREAM_BUFFER_SIZE=1000

# Monitoring and Metrics
ENABLE_METRICS=true
METRICS_RETENTION_DAYS=30
ENABLE_PERFORMANCE_TRACKING=true
SLOW_QUERY_THRESHOLD=1000          # milliseconds

# External APIs
WEATHER_API_KEY=
UTILITY_API_KEY=
GOOGLE_MAPS_API_KEY=

# Email Configuration (Optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_TLS=true
EMAIL_FROM=noreply@energy-optimizer.com

# Notification Settings
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SLACK_NOTIFICATIONS=false
SLACK_WEBHOOK_URL=

# Background Tasks (Celery)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=Europe/Rome

# Cron Jobs
ENABLE_SCHEDULED_TASKS=true
DAILY_REPORT_TIME="02:00"
WEEKLY_REPORT_DAY=0                # Sunday = 0
AUTO_BACKUP_TIME="03:00"

# Logging Configuration
LOG_FORMAT=json
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_FILE_PATH=./logs/energy_optimizer.log

# Development Tools
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false
ENABLE_SQL_ECHO=false

# Testing
TESTING=false
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_energy_optimizer

# Feature Flags
FEATURE_ADVANCED_ML=true
FEATURE_PREDICTIVE_MAINTENANCE=true
FEATURE_ANOMALY_DETECTION=true
FEATURE_AUTOMATED_REPORTING=true
FEATURE_MULTI_TENANT=false

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60               # seconds
RATE_LIMIT_STORAGE=redis://localhost:6379/2

# Health Checks
HEALTH_CHECK_INTERVAL=30           # seconds
HEALTH_CHECK_TIMEOUT=10            # seconds
HEALTH_CHECK_RETRIES=3

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
BACKUP_STORAGE_PATH=./backups

# Performance Optimization
ENABLE_QUERY_CACHING=true
QUERY_CACHE_TTL=300               # 5 minutes
ENABLE_RESPONSE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Docker Specific (when running in containers)
CONTAINER_NAME=energy_optimizer_backend
CONTAINER_TIMEZONE=Europe/Rome

# Production Overrides (set these in production)
# DATABASE_URL=postgresql://prod_user:secure_password@db.energy-optimizer.com:5432/energy_optimizer_prod
# REDIS_URL=redis://cache.energy-optimizer.com:6379/0
# SECRET_KEY=extremely-secure-secret-key-for-production
# CORS_ORIGINS=["https://energy-optimizer.com", "https://www.energy-optimizer.com"]
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
